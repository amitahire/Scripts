# Mining Pinterest sitemap data

A singificant amount of Pinterest user activity is public and indexed by search engines. To aid efficient crawling, Pinterest provides sitemaps which are routinely updated (once a week).      
Acquiring sitemap data is cheaper than crawling entire Pinterest. 

The use of urls with users activity information e.g. `http://Pinterest.com/<user_name>/<board_name>/` allows us to track certain user behaviours (such as creation of boards) without crawling. Finally since this information is updated weekly it provides us with ability to recognize temporal trends. In this analysis we show how sitemap data from pinterest can be used for various purposes such as:

* Understanding usage and growth
* Detecting new and active users as leads 
* Detecting temporal topics (as indicated by boards names)

For purpose of this analysis we collected sitemap data from following dates, for each date we indicate the number of unique user/boards combinations. Following tables shows the dates on which sitemaps were updated and number of user/board urls.

| Index | Date       | Number of boards |          
|:-----:|------------|-----------------:|          
|   1   | 2014-05-16 |        574746707 |          
|   2   | 2014-05-23 |        579692825 |          
|   3   | 2014-05-30 |        584404228 |          
|   4   | 2014-06-06 |        589815613 |          
|   5   | 2014-06-13 |        593593074 |          
|   6*  | 2014-06-27 |        475536229 |          
|   7*  | 2014-07-04 |        478644303 |          
|   8*  | 2014-07-04 |        482753031 |          

\*Notice that there was a discontinuity in updating sitmap data in June, there was no update on 20th June, this is likely due to change in how sitemaps are generated by pinterest.


### Example of collected data


The sitemap data is pre-processed into following format.

```
user_name \t 1,2,3,4,5,6,7:board_name_1 \t 3,4,5,6:board_name_2 \n
```

The above shows data collected for a single user, in this example the user 'user_name' had 'board_name_1' in sitemap data on dates 1,2,3,4,5,6 & 'board_name_2' on dates 3,4,5,6 in the sitemap data.

In the entire dataset, there are 74 Million users \(74197606\) and 637 Million boards \(637058434\).

### Distribution of board names

Unique Board names : 57900911

|Users | Number of unique boards names |          
|:---------:|-----------------:|          
| More than 100 users |248599|          
| More than 1000 users|35164|          
| More than 10000 users|4672|                    
| More than 100000 users|554|          


### Popular Board Names


| Percentage of total | Count       | Board Name |          
|:-----:|------------|-----------------:|          
|1.283 |  8176591|food|          
|0.986 |  6281418|my-style|          
|0.981 |  6246576|for-the-home|          
|0.876 |  5578830|hair|          
|0.782 |  4979590|quotes|          
|0.724 |  4615318|recipes|          
|0.61 |  3883947|fashion|      
|0.578% |  3682190|products-i-love|          
|0.557% |  3550122|books-worth-reading|          
|0.549% |  3495006|crafts|          
|0.533% |  3397115|diy|          
|0.52% |  3312413|favorite-places-spaces|          
|0.512% |  3262291|christmas|          
|0.504% |  3213175|nails|          
|0.458% |  2916953|fitness|          
|0.451% |  2872613|beauty|          
|0.415% |  2646962|home|          
|0.409% |  2602391|tattoos|          
|0.408% |  2598391|funny|          
|0.377% |  2398734|wedding|          
|0.376% |  2397040|art|          
|0.342% |  2180396|halloween|          
|0.325% |  2073023|photography|                    
|0.308% |  1964070|drinks|          
|0.305% |  1942934|health|          
|0.297% |  1894754|travel|          
|0.297% |  1893865|animals|          
|0.296% |  1886975|holidays|          
|0.296% |  1885756|clothes|          
|0.275% |  1752186|\_\_\_deactivated\_board\_\_\_|          
|0.274% |  1746719|gardening|          
|0.271% |  1723660|makeup|          
|0.27% |  1721387|shoes|          
|0.243% |  1546199|kids|          
|0.243% |  1545379|craft-ideas|          
|0.239% |  1524300|easter|          
|0.239% |  1520081|party-ideas|          
|0.235% |  1495614|garden|          
|0.234% |  1491353|gift-ideas|          
|0.231% |  1474630|projects-to-try|          
|0.226% |  1437644|desserts|          
|0.224% |  1425733|jewelry|          
|0.214% |  1361699|home-decor|          
|0.206% |  1312508|random|          
|0.199% |  1269266|inspiration|          
|0.196% |  1249377|things-i-love|          
|0.193% |  1229139|wedding-ideas|          
|0.188% |  1197208|love|          
|0.187% |  1192524|style|          
|0.181% |  1153364|make-up|          


### Counts of observation patterns


Following table lists how many times a specific observation pattern appears, e.g. 67.64% \(430879943\) of all users/boards in the data were observed in all sitemaps. Only Patterns which appear more than 25,000 times are shown.


| Fraction | Count | Observation pattern | Remark |
|-----:|-----:|:-----------------|:-----------------|
|67.64% | 430879943|	1,2,3,4,5,6,7,8|Present in all sitemaps |
|20.75% | 132212739|	1,2,3,4,5|Missing in last three sitemaps |
|3.93% |  25032831|	6,7,8|Present only in last three sitemaps |
|0.81% |   5144521|	8| New in sitemap uploaded on 07/11/2014 |
|0.7% |   4473730|	4,5,6,7,8| Observed in all sitemaps after 6th June |
|0.64% |   4079045|	7,8| Observed in last two sitemaps |
|0.64% |   4051532|	3,4,5,6,7,8| |
|0.63% |   4035871|	2,3,4,5,6,7,8| |
|0.52% |   3303138|	5,6,7,8| |
|0.45% |   2857867|	4,5| |
|0.37% |   2372896|	3,4,5| |
|0.37% |   2351568|	5| |
|0.36% |   2273479|	2,3,4,5| |
|0.31% |   1992670|	1,2,3| |
|0.3% |   1926082|	1,2| |
|0.29% |   1869015|	1| |
|0.29% |   1822998|	1,2,3,4| |
|0.22% |   1384975|	1,2,3,4,5,6,7| |
|0.21% |   1323578|	1,2,3,4,5,6| |
|0.1% |    640434|	1,2,3,4,5,8| |
|0.08% |    530059|	1,2,3,4,5,7,8| |
|0.05% |    327438|	6| |
|0.04% |    260459|	6,7| |
|0.04% |    240128|	2| |
|0.03% |    188963|	3| |
|0.03% |    162298|	4| |
|0.02% |    107276|	7| |
|0.02% |     97010|	2,3| |
|0.01% |     89831|	3,4| |
|0.01% |     71052|	5,7,8| |
|0.01% |     68849|	2,3,4| |
|0.01% |     66274|	4,5,8| |
|0.01% |     66178|	4,5,7,8| |
|0.01% |     65817|	5,8| |
|0.01% |     60701|	5,6| |
|0.01% |     51037|	4,5,6| |
|0.01% |     47533|	3,4,5,8| |
|0.01% |     44890|	4,5,6,7| |
|0.01% |     44759|	3,4,5,7,8| |
|0.01% |     42773|	5,6,7| |
|0.01% |     41445|	2,3,4,5,8| |
|0.01% |     38824|	2,3,4,5,7,8| |
|0.01% |     38078|	3,4,5,6,7| |
|0.01% |     34493|	2,3,4,5,6| |
|0.01% |     33759|	3,4,5,6| |
|0.01% |     32671|	2,3,4,5,6,7| |